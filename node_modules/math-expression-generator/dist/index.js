module.exports=function(t){var r={};function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,r){if(1&r&&(t=n(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)n.d(e,o,function(r){return t[r]}.bind(null,o));return e},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},n.p="",n(n.s=5)}([function(t,r,n){var e=n(2),o={},u=0;t.exports=function(t){var r;return t>u&&(o=e(r=t),u=r),!!o[t]}},function(t,r,n){(function(r){var n=1/0,e=9007199254740991,o=1.7976931348623157e308,u=NaN,f=4294967295,c="[object Arguments]",a="[object Function]",i="[object GeneratorFunction]",l="[object Map]",s="[object Set]",I="[object String]",h="[object Symbol]",v=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,b=/^\[object .+?Constructor\]$/,O=/^0o[0-7]+$/i,y=/^(?:0|[1-9]\d*)$/,g="[\\ud800-\\udfff]",M="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",j="\\ud83c[\\udffb-\\udfff]",T="[^\\ud800-\\udfff]",N="(?:\\ud83c[\\udde6-\\uddff]){2}",S="[\\ud800-\\udbff][\\udc00-\\udfff]",A="(?:"+M+"|"+j+")"+"?",m="[\\ufe0e\\ufe0f]?"+A+("(?:\\u200d(?:"+[T,N,S].join("|")+")[\\ufe0e\\ufe0f]?"+A+")*"),D="(?:"+[T+M+"?",M,N,S,g].join("|")+")",P=RegExp(j+"(?="+j+")|"+D+m,"g"),x=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),w=parseInt,C="object"==typeof r&&r&&r.Object===Object&&r,L="object"==typeof self&&self&&self.Object===Object&&self,U=C||L||Function("return this")();function V(t,r){return function(t,r){for(var n=-1,e=t?t.length:0,o=Array(e);++n<e;)o[n]=r(t[n],n,t);return o}(r,function(r){return t[r]})}function _(t){var r=-1,n=Array(t.size);return t.forEach(function(t,e){n[++r]=[e,t]}),n}function R(t){var r=-1,n=Array(t.size);return t.forEach(function(t){n[++r]=t}),n}function $(t){return function(t){return x.test(t)}(t)?function(t){return t.match(P)||[]}(t):function(t){return t.split("")}(t)}var E,B,k,q=Function.prototype,F=Object.prototype,W=U["__core-js_shared__"],z=(E=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",G=q.toString,H=F.hasOwnProperty,J=F.toString,K=RegExp("^"+G.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=U.Symbol,X=Q?Q.iterator:void 0,Y=F.propertyIsEnumerable,Z=Math.floor,tt=(B=Object.keys,k=Object,function(t){return B(k(t))}),rt=Math.random,nt=dt(U,"DataView"),et=dt(U,"Map"),ot=dt(U,"Promise"),ut=dt(U,"Set"),ft=dt(U,"WeakMap"),ct=yt(nt),at=yt(et),it=yt(ot),lt=yt(ut),st=yt(ft);function It(t,r){var n=Mt(t)||function(t){return function(t){return St(t)&&jt(t)}(t)&&H.call(t,"callee")&&(!Y.call(t,"callee")||J.call(t)==c)}(t)?function(t,r){for(var n=-1,e=Array(t);++n<t;)e[n]=r(n);return e}(t.length,String):[],e=n.length,o=!!e;for(var u in t)!r&&!H.call(t,u)||o&&("length"==u||Ot(u,e))||n.push(u);return n}function ht(t){return!(!Nt(t)||(r=t,z&&z in r))&&(Tt(t)||function(t){var r=!1;if(null!=t&&"function"!=typeof t.toString)try{r=!!(t+"")}catch(t){}return r}(t)?K:b).test(yt(t));var r}function vt(t){if(n=(r=t)&&r.constructor,e="function"==typeof n&&n.prototype||F,r!==e)return tt(t);var r,n,e,o=[];for(var u in Object(t))H.call(t,u)&&"constructor"!=u&&o.push(u);return o}function pt(t,r){return t+Z(rt()*(r-t+1))}function dt(t,r){var n=function(t,r){return null==t?void 0:t[r]}(t,r);return ht(n)?n:void 0}var bt=function(t){return J.call(t)};function Ot(t,r){return!!(r=null==r?e:r)&&("number"==typeof t||y.test(t))&&t>-1&&t%1==0&&t<r}function yt(t){if(null!=t){try{return G.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function gt(t,r,e){var f,c,a,i=-1,b=function(t){if(!t)return[];if(jt(t))return function(t){return"string"==typeof t||!Mt(t)&&St(t)&&J.call(t)==I}(t)?$(t):function(t,r){var n=-1,e=t.length;for(r||(r=Array(e));++n<e;)r[n]=t[n];return r}(t);if(X&&t[X])return function(t){for(var r,n=[];!(r=t.next()).done;)n.push(r.value);return n}(t[X]());var r=bt(t);return(r==l?_:r==s?R:At)(t)}(t),y=b.length,g=y-1;for((e?function(t,r,n){if(!Nt(n))return!1;var e=typeof r;return!!("number"==e?jt(n)&&Ot(r,n.length):"string"==e&&r in n)&&function(t,r){return t===r||t!=t&&r!=r}(n[r],t)}(t,r,e):void 0===r)?r=1:(f=function(t){var r=function(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||St(t)&&J.call(t)==h}(t))return u;if(Nt(t)){var r="function"==typeof t.valueOf?t.valueOf():t;t=Nt(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(v,"");var n=d.test(t);return n||O.test(t)?w(t.slice(2),n?2:8):p.test(t)?u:+t}(t))===n||t===-n){var r=t<0?-1:1;return r*o}return t==t?t:0}(t),e=r%1;return r==r?e?r-e:r:0}(r),c=0,a=y,f==f&&(void 0!==a&&(f=f<=a?f:a),void 0!==c&&(f=f>=c?f:c)),r=f);++i<r;){var M=pt(i,g),j=b[M];b[M]=b[i],b[i]=j}return b.length=r,b}(nt&&"[object DataView]"!=bt(new nt(new ArrayBuffer(1)))||et&&bt(new et)!=l||ot&&"[object Promise]"!=bt(ot.resolve())||ut&&bt(new ut)!=s||ft&&"[object WeakMap]"!=bt(new ft))&&(bt=function(t){var r=J.call(t),n="[object Object]"==r?t.constructor:void 0,e=n?yt(n):void 0;if(e)switch(e){case ct:return"[object DataView]";case at:return l;case it:return"[object Promise]";case lt:return s;case st:return"[object WeakMap]"}return r});var Mt=Array.isArray;function jt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}(t.length)&&!Tt(t)}function Tt(t){var r=Nt(t)?J.call(t):"";return r==a||r==i}function Nt(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}function St(t){return!!t&&"object"==typeof t}function At(t){return t?V(t,function(t){return jt(t)?It(t):vt(t)}(t)):[]}t.exports=function(t){return gt(t,f)}}).call(this,n(4))},function(t,r,n){var e=n(3);t.exports=function(t){return e(t+1).reduce(function(t,r){return t[r]=!0,t},{})}},function(t,r,n){!function(n){"use strict";function e(t){for(var r=[],n=[],e=2,o=t;o--;)r[t-o]=!0;for(e=2;e<Math.sqrt(t);e++)if(r[e])for(var u=e+e;u<t;u+=e)r[u]=!1;for(var f=2;f<t;f++)r[f]&&n.push(f);return n}t.exports&&(r=t.exports=e),r.sieveOfErathosthenes=e}()},function(t,r){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,r,n){"use strict";var e;n.r(r),function(t){t.DIVISION="/",t.MULTIPLICATION="*",t.ADDITION="+",t.SUBTRACTION="-"}(e||(e={}));var o=e;var u=t=>{let r=[];return t?Object.keys(t).forEach(n=>{t[n]&&r.push(n)}):r=[o.ADDITION,o.SUBTRACTION,o.MULTIPLICATION,o.DIVISION],r.length?r[Math.floor(Math.random()*r.length)]:o.ADDITION};var f=(t,r)=>Math.floor(Math.random()*(r-t+1))+t;var c=t=>{if(0===t)return[0,0];if(t>0){const r=f(1,t-1);return[r,t-r]}const r=f(t+Math.floor(t/2),-1);return[r,t-r]},a=n(0);var i=t=>{const r=[],n=[],e=Math.sqrt(t);for(let o=1;o<e+1&&o!==n[n.length-1];o++)t%o!=0||1!==t&&!a(t)&&1===o||(r.push(o),t/o===o||1!==t&&!a(t)&&t===o||n.push(t/o));return r.concat(n)};var l=t=>{if(0===t)return[0,0];if(t>0){const r=i(t);if(!r.length)return[0,0];const n=r[Math.floor(Math.random()*r.length)];return[n,t/n]}const r=i(-t);if(!r.length)return[0,0];const n=r[Math.floor(Math.random()*r.length)]*(1===f(1,2)?1:-1);return[n,t/n]};var s=t=>{if(0===t)return[0,0];if(t>0){const r=Math.floor(Math.sqrt(t)),n=f(2,r),e=t*n;return n/e===t?[n,e]:[e,n]}const r=Math.floor(Math.sqrt(-t)),n=f(2,r)*(1===f(1,2)?-1:1),e=t*n;return n/e===t?[n,e]:[e,n]};var I=t=>{if(0===t)return[0,0];if(t>0){const r=f(1,Math.floor(Math.sqrt(t))),n=r+t;return r-n===t?[r,n]:[n,r]}const r=f(t,-t),n=r+t;return r-n===t?[r,n]:[n,r]};var h=(t,r)=>r===o.ADDITION?c(t):r===o.SUBTRACTION?I(t):r===o.MULTIPLICATION?l(t):s(t);var v=(t,r)=>{const n=u(r),e=h(t,n);return[e[0],n,e[1]]};var p=(t,r,n,e)=>({[o.DIVISION]:1!==t&&-1!==t&&(!n&&!e||n!==o.DIVISION&&r&&!e||!n&&!e),[o.MULTIPLICATION]:1!==t&&-1!==t&&n!==o.DIVISION&&(!!n||!!e||!a(t)&&1!==t&&-1!==t),[o.ADDITION]:1!==t&&-1!==t&&(!n&&!e||n!==o.DIVISION&&n!==o.SUBTRACTION&&n!==o.MULTIPLICATION&&e!==o.DIVISION&&e!==o.MULTIPLICATION),[o.SUBTRACTION]:!n&&!e||n!==o.DIVISION&&n!==o.MULTIPLICATION&&e!==o.DIVISION&&e!==o.MULTIPLICATION&&n!==o.SUBTRACTION});const d=(t,r,n,e,u)=>{const c=p(t,u,n,e),a=v(t,c),i=[...a];if(r>2){const t=0===(a[1]===o.DIVISION||a[1]===o.SUBTRACTION||e===o.DIVISION?0:f(0,1)),u=d(a[t?0:2],--r,t?n:a[1],t?a[1]:e,t);return t?u.concat(i.slice(1)):i.slice(0,i.length-1).concat(u)}return i};var b=d;var O=({length:t,target:r})=>b(r,t),y=n(1);const g=(t,r)=>{let n=0,e=0;for(;0===n;)n=Math.random();for(;0===e;)e=Math.random();let o=Math.sqrt(-2*Math.log(n))*Math.cos(2*Math.PI*e);return((o=o/10+.5)>1||o<0)&&(o=g(t,r)),o*=r-t,o+=t,Math.round(o)};var M=g;var j=(t,r)=>{let n=[t];for(;n.length<2*r-1;){const t=2*M(0,(n.length+1)/2-1),r=n[t],e=u(p(r)),[o,f]=h(r,e);n=[...n.slice(0,t),o,e,f,...n.slice(t+1)]}return y(n)};n.d(r,"generateExpression",function(){return T}),n.d(r,"generateBag",function(){return j});const T=O}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXRoLWV4cHJlc3Npb24tZ2VuZXJhdG9yL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21hdGgtZXhwcmVzc2lvbi1nZW5lcmF0b3IvLi9ub2RlX21vZHVsZXMvcXVpY2staXMtcHJpbWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWF0aC1leHByZXNzaW9uLWdlbmVyYXRvci8uL25vZGVfbW9kdWxlcy9sb2Rhc2guc2h1ZmZsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9tYXRoLWV4cHJlc3Npb24tZ2VuZXJhdG9yLy4vbm9kZV9tb2R1bGVzL3NpZXZlLXNldC9pbmRleC5qcyIsIndlYnBhY2s6Ly9tYXRoLWV4cHJlc3Npb24tZ2VuZXJhdG9yLy4vbm9kZV9tb2R1bGVzL3NpZXZlLW9mLWVyYXRvc3RoZW5lcy9zaWV2ZS1vZi1lcmF0b3N0aGVuZXMuanMiLCJ3ZWJwYWNrOi8vbWF0aC1leHByZXNzaW9uLWdlbmVyYXRvci8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vbWF0aC1leHByZXNzaW9uLWdlbmVyYXRvci8uL3NyYy90eXBlcy9PcGVyYXRvci50cyIsIndlYnBhY2s6Ly9tYXRoLWV4cHJlc3Npb24tZ2VuZXJhdG9yLy4vc3JjL3JhbmRvbU9wZXJhdG9yLnRzIiwid2VicGFjazovL21hdGgtZXhwcmVzc2lvbi1nZW5lcmF0b3IvLi9zcmMvcmFuZG9tTnVtYmVySW5SYW5nZS50cyIsIndlYnBhY2s6Ly9tYXRoLWV4cHJlc3Npb24tZ2VuZXJhdG9yLy4vc3JjL3JhbmRvbUFkZGl0aXZlUGFpci50cyIsIndlYnBhY2s6Ly9tYXRoLWV4cHJlc3Npb24tZ2VuZXJhdG9yLy4vc3JjL2ZpbmRBbGxQb3NpdGl2ZURpdmlzb3JzLnRzIiwid2VicGFjazovL21hdGgtZXhwcmVzc2lvbi1nZW5lcmF0b3IvLi9zcmMvcmFuZG9tRGl2aXNvclBhaXIudHMiLCJ3ZWJwYWNrOi8vbWF0aC1leHByZXNzaW9uLWdlbmVyYXRvci8uL3NyYy9yYW5kb21NdWx0aXBsZVBhaXIudHMiLCJ3ZWJwYWNrOi8vbWF0aC1leHByZXNzaW9uLWdlbmVyYXRvci8uL3NyYy9yYW5kb21TdWJ0cmFjdGl2ZVBhaXIudHMiLCJ3ZWJwYWNrOi8vbWF0aC1leHByZXNzaW9uLWdlbmVyYXRvci8uL3NyYy9yYW5kb21QYWlyRm9yTnVtYmVyQW5kT3BlcmF0b3IudHMiLCJ3ZWJwYWNrOi8vbWF0aC1leHByZXNzaW9uLWdlbmVyYXRvci8uL3NyYy9nZW5lcmF0ZVBhaXJFeHByZXNzaW9uLnRzIiwid2VicGFjazovL21hdGgtZXhwcmVzc2lvbi1nZW5lcmF0b3IvLi9zcmMvZ2V0VmFsaWRPcGVyYXRvcnMudHMiLCJ3ZWJwYWNrOi8vbWF0aC1leHByZXNzaW9uLWdlbmVyYXRvci8uL3NyYy9nZW5lcmF0ZUV4cHJlc3Npb25JbnRlcm5hbC50cyIsIndlYnBhY2s6Ly9tYXRoLWV4cHJlc3Npb24tZ2VuZXJhdG9yLy4vc3JjL2dlbmVyYXRlRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9tYXRoLWV4cHJlc3Npb24tZ2VuZXJhdG9yLy4vc3JjL3JhbmRvbUdhdXNzaWFuTnVtYmVySW5SYW5nZS50cyIsIndlYnBhY2s6Ly9tYXRoLWV4cHJlc3Npb24tZ2VuZXJhdG9yLy4vc3JjL2dlbmVyYXRlQmFnLnRzIiwid2VicGFjazovL21hdGgtZXhwcmVzc2lvbi1nZW5lcmF0b3IvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJzaWV2ZVNldCIsInNpZXZlIiwidXBwZXJCb3VuZCIsIm51bWJlciIsIm1heCIsImdsb2JhbCIsIklORklOSVRZIiwiTUFYX1NBRkVfSU5URUdFUiIsIk1BWF9JTlRFR0VSIiwiTkFOIiwiTUFYX0FSUkFZX0xFTkdUSCIsImFyZ3NUYWciLCJmdW5jVGFnIiwiZ2VuVGFnIiwibWFwVGFnIiwic2V0VGFnIiwic3RyaW5nVGFnIiwic3ltYm9sVGFnIiwicmVUcmltIiwicmVJc0JhZEhleCIsInJlSXNCaW5hcnkiLCJyZUlzSG9zdEN0b3IiLCJyZUlzT2N0YWwiLCJyZUlzVWludCIsInJzQXN0cmFsIiwicnNDb21ibyIsInJzRml0eiIsInJzTm9uQXN0cmFsIiwicnNSZWdpb25hbCIsInJzU3VyclBhaXIiLCJyZU9wdE1vZCIsInJzU2VxIiwiam9pbiIsInJzU3ltYm9sIiwicmVVbmljb2RlIiwiUmVnRXhwIiwicmVIYXNVbmljb2RlIiwiZnJlZVBhcnNlSW50IiwicGFyc2VJbnQiLCJmcmVlR2xvYmFsIiwiZnJlZVNlbGYiLCJzZWxmIiwicm9vdCIsIkZ1bmN0aW9uIiwiYmFzZVZhbHVlcyIsInByb3BzIiwiYXJyYXkiLCJpdGVyYXRlZSIsImluZGV4IiwibGVuZ3RoIiwicmVzdWx0IiwiQXJyYXkiLCJhcnJheU1hcCIsIm1hcFRvQXJyYXkiLCJtYXAiLCJzaXplIiwiZm9yRWFjaCIsInNldFRvQXJyYXkiLCJzZXQiLCJzdHJpbmdUb0FycmF5Iiwic3RyaW5nIiwidGVzdCIsImhhc1VuaWNvZGUiLCJtYXRjaCIsInVuaWNvZGVUb0FycmF5Iiwic3BsaXQiLCJhc2NpaVRvQXJyYXkiLCJ1aWQiLCJmdW5jIiwidHJhbnNmb3JtIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJjb3JlSnNEYXRhIiwibWFza1NyY0tleSIsImV4ZWMiLCJrZXlzIiwiSUVfUFJPVE8iLCJmdW5jVG9TdHJpbmciLCJ0b1N0cmluZyIsIm9iamVjdFRvU3RyaW5nIiwicmVJc05hdGl2ZSIsInJlcGxhY2UiLCJpdGVyYXRvclN5bWJvbCIsIml0ZXJhdG9yIiwidW5kZWZpbmVkIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJuYXRpdmVGbG9vciIsIk1hdGgiLCJmbG9vciIsIm5hdGl2ZUtleXMiLCJhcmciLCJuYXRpdmVSYW5kb20iLCJyYW5kb20iLCJEYXRhVmlldyIsImdldE5hdGl2ZSIsIk1hcCIsIlByb21pc2UiLCJTZXQiLCJXZWFrTWFwIiwiZGF0YVZpZXdDdG9yU3RyaW5nIiwidG9Tb3VyY2UiLCJtYXBDdG9yU3RyaW5nIiwicHJvbWlzZUN0b3JTdHJpbmciLCJzZXRDdG9yU3RyaW5nIiwid2Vha01hcEN0b3JTdHJpbmciLCJhcnJheUxpa2VLZXlzIiwiaW5oZXJpdGVkIiwiaXNBcnJheSIsImlzT2JqZWN0TGlrZSIsImlzQXJyYXlMaWtlIiwiaXNBcnJheUxpa2VPYmplY3QiLCJpc0FyZ3VtZW50cyIsImJhc2VUaW1lcyIsIlN0cmluZyIsInNraXBJbmRleGVzIiwiaXNJbmRleCIsInB1c2giLCJiYXNlSXNOYXRpdmUiLCJpc09iamVjdCIsImlzRnVuY3Rpb24iLCJlIiwiaXNIb3N0T2JqZWN0IiwiYmFzZUtleXMiLCJDdG9yIiwiY29uc3RydWN0b3IiLCJwcm90byIsImJhc2VSYW5kb20iLCJsb3dlciIsInVwcGVyIiwiZ2V0VmFsdWUiLCJnZXRUYWciLCJzYW1wbGVTaXplIiwiY29sbGVjdGlvbiIsImd1YXJkIiwiaXNTdHJpbmciLCJzb3VyY2UiLCJjb3B5QXJyYXkiLCJkYXRhIiwibmV4dCIsImRvbmUiLCJpdGVyYXRvclRvQXJyYXkiLCJ0YWciLCJ2YWx1ZXMiLCJ0b0FycmF5IiwibGFzdEluZGV4IiwidHlwZSIsIm90aGVyIiwiZXEiLCJpc0l0ZXJhdGVlQ2FsbCIsImlzU3ltYm9sIiwidmFsdWVPZiIsImlzQmluYXJ5Iiwic2xpY2UiLCJ0b051bWJlciIsInNpZ24iLCJ0b0Zpbml0ZSIsInJlbWFpbmRlciIsInRvSW50ZWdlciIsInJhbmQiLCJBcnJheUJ1ZmZlciIsInJlc29sdmUiLCJjdG9yU3RyaW5nIiwiaXNMZW5ndGgiLCJzaWV2ZUFycmF5IiwicmVkdWNlIiwib2JqIiwic2lldmVPZkVyYXRob3N0aGVuZXMiLCJmbGFncyIsInByaW1lcyIsInByaW1lIiwic3FydCIsImoiLCJnIiwidGhpcyIsIndpbmRvdyIsIk9wZXJhdG9yIiwidHlwZXNfT3BlcmF0b3IiLCJzcmNfcmFuZG9tT3BlcmF0b3IiLCJ2YWxpZE9wZXJhdG9ycyIsIm9wZXJhdG9ycyIsIm9wZXJhdG9yIiwiQURESVRJT04iLCJTVUJUUkFDVElPTiIsIk1VTFRJUExJQ0FUSU9OIiwiRElWSVNJT04iLCJzcmNfcmFuZG9tTnVtYmVySW5SYW5nZSIsIm1pbiIsInNyY19yYW5kb21BZGRpdGl2ZVBhaXIiLCJyYW5kb21OdW1iZXJGb3JQb3NpdGl2ZU4iLCJyYW5kb21OdW1iZXJGb3JOb25Qb2l0aXZlTiIsInNyY19maW5kQWxsUG9zaXRpdmVEaXZpc29ycyIsImxhcmdlRGl2aXNvcnMiLCJzbWFsbERpdmlzb3JzIiwicXVpY2tfaXNfcHJpbWUiLCJjb25jYXQiLCJzcmNfcmFuZG9tRGl2aXNvclBhaXIiLCJkaXZpc29yc0ZvclBvc2l0aXZlTiIsInJhbmRvbURpdmlzb3JGb3JQb3NpdGl2ZU4iLCJkaXZpc29yc0Zvck5vblBvc2l0aXZlTiIsInJhbmRvbURpdmlzb3JGb3JOb25Qb3NpdGl2ZU4iLCJzcmNfcmFuZG9tTXVsdGlwbGVQYWlyIiwibWF4TXVsdGlwbGVGb3JQb3NpdGl2ZU4iLCJyYW5kb21NdWx0aXBsZUZvclBvc2l0aXZlTiIsInNlY29uZE11bHRpcGxlRm9yUG9zaXRpdmVOIiwibWF4TXVsdGlwbGVGb3JOb25Qb3NpdGl2ZU4iLCJyYW5kb21NdWx0aXBsZUZvck5vblBvc2l0aXZlTiIsInNlY29uZE11bHRpcGxlRm9yTm9uUG9zaXRpdmVOIiwic3JjX3JhbmRvbVN1YnRyYWN0aXZlUGFpciIsInJhbmRvbVN1YnRyYWN0aXZlTnVtYmVyRm9yUG9zaXRpdmVOIiwic2Vjb25kU3VidHJhY3RpdmVOdW1iZXJGb3JQb3NpdGl2ZU4iLCJyYW5kb21TdWJ0cmFjdGl2ZU51bWJlckZvck5vblBvc2l0aXZlTiIsInNlY29uZFN1YnRyYWN0aXZlTnVtYmVyRm9yTm9uUG9zaXRpdmVOIiwic3JjX3JhbmRvbVBhaXJGb3JOdW1iZXJBbmRPcGVyYXRvciIsInNyY19nZW5lcmF0ZVBhaXJFeHByZXNzaW9uIiwibnVtYmVycyIsInNyY19nZXRWYWxpZE9wZXJhdG9ycyIsIm9uTGVmdCIsImxlZnRPcGVyYXRvciIsInJpZ2h0T3BlcmF0b3IiLCJbb2JqZWN0IE9iamVjdF0iLCJnZW5lcmF0ZUV4cHJlc3Npb24iLCJwYWlyRXhwcmVzc2lvbiIsImZpbmFsRXhwcmVzc2lvbiIsImxlZnQiLCJhZGRpdGlvbmFsRXhwcmVzc2lvbiIsImdlbmVyYXRlRXhwcmVzc2lvbkludGVybmFsIiwic3JjX2dlbmVyYXRlRXhwcmVzc2lvbiIsInRhcmdldCIsInJhbmRvbkdhdXNzaWFuTnVtYmVySW5SYW5nZSIsInUiLCJ2IiwibnVtIiwibG9nIiwiY29zIiwiUEkiLCJyb3VuZCIsInJhbmRvbUdhdXNzaWFuTnVtYmVySW5SYW5nZSIsInNyY19nZW5lcmF0ZUJhZyIsImV4cHJlc3Npb24iLCJpbmRleFRvU3BsaXQiLCJudW1iZXJUb1NwbGl0IiwiZmlyc3ROdW1iZXIiLCJzZWNvbmROdW1iZXIiLCJsb2Rhc2hfc2h1ZmZsZSIsIl9fd2VicGFja19leHBvcnRzX18iLCJzcmNfZ2VuZXJhdGVFeHByZXNzaW9uXzAiXSwibWFwcGluZ3MiOiIyQkFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFB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QWUsSUFJdkMsT0FBT0ksRUFBUUwsSUNqQ2pCbFIsRUFBQVUsRUFBQThRLEVBQUEsdUNBQUFDLElBQUF6UixFQUFBVSxFQUFBOFEsRUFBQSxnQ0FBQVAsSUFHTyxNQUFNUSxFQUFxQm5CIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDUpO1xuIiwidmFyIHNpZXZlU2V0ID0gcmVxdWlyZSgnc2lldmUtc2V0Jyk7XG5cbnZhciBzaWV2ZSA9IHt9O1xudmFyIHVwcGVyQm91bmQgPSAwO1xuXG5mdW5jdGlvbiB1cGRhdGVTaWV2ZShtYXgpIHtcbiAgc2lldmUgPSBzaWV2ZVNldChtYXgpO1xuICB1cHBlckJvdW5kID0gbWF4O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChudW1iZXIpIHtcbiAgaWYgKG51bWJlciA+IHVwcGVyQm91bmQpIHtcbiAgICB1cGRhdGVTaWV2ZShudW1iZXIpO1xuICB9XG4gIHJldHVybiAhIXNpZXZlW251bWJlcl07XG59O1xuIiwiLyoqXG4gKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIElORklOSVRZID0gMSAvIDAsXG4gICAgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTEsXG4gICAgTUFYX0lOVEVHRVIgPSAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOCxcbiAgICBOQU4gPSAwIC8gMDtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdGhlIG1heGltdW0gbGVuZ3RoIGFuZCBpbmRleCBvZiBhbiBhcnJheS4gKi9cbnZhciBNQVhfQVJSQVlfTEVOR1RIID0gNDI5NDk2NzI5NTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJztcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNoYXJhY3RlciBjbGFzc2VzLiAqL1xudmFyIHJzQXN0cmFsUmFuZ2UgPSAnXFxcXHVkODAwLVxcXFx1ZGZmZicsXG4gICAgcnNDb21ib01hcmtzUmFuZ2UgPSAnXFxcXHUwMzAwLVxcXFx1MDM2ZlxcXFx1ZmUyMC1cXFxcdWZlMjMnLFxuICAgIHJzQ29tYm9TeW1ib2xzUmFuZ2UgPSAnXFxcXHUyMGQwLVxcXFx1MjBmMCcsXG4gICAgcnNWYXJSYW5nZSA9ICdcXFxcdWZlMGVcXFxcdWZlMGYnO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2FwdHVyZSBncm91cHMuICovXG52YXIgcnNBc3RyYWwgPSAnWycgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgIHJzQ29tYm8gPSAnWycgKyByc0NvbWJvTWFya3NSYW5nZSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UgKyAnXScsXG4gICAgcnNGaXR6ID0gJ1xcXFx1ZDgzY1tcXFxcdWRmZmItXFxcXHVkZmZmXScsXG4gICAgcnNNb2RpZmllciA9ICcoPzonICsgcnNDb21ibyArICd8JyArIHJzRml0eiArICcpJyxcbiAgICByc05vbkFzdHJhbCA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgIHJzUmVnaW9uYWwgPSAnKD86XFxcXHVkODNjW1xcXFx1ZGRlNi1cXFxcdWRkZmZdKXsyfScsXG4gICAgcnNTdXJyUGFpciA9ICdbXFxcXHVkODAwLVxcXFx1ZGJmZl1bXFxcXHVkYzAwLVxcXFx1ZGZmZl0nLFxuICAgIHJzWldKID0gJ1xcXFx1MjAwZCc7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSByZWdleGVzLiAqL1xudmFyIHJlT3B0TW9kID0gcnNNb2RpZmllciArICc/JyxcbiAgICByc09wdFZhciA9ICdbJyArIHJzVmFyUmFuZ2UgKyAnXT8nLFxuICAgIHJzT3B0Sm9pbiA9ICcoPzonICsgcnNaV0ogKyAnKD86JyArIFtyc05vbkFzdHJhbCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNPcHRWYXIgKyByZU9wdE1vZCArICcpKicsXG4gICAgcnNTZXEgPSByc09wdFZhciArIHJlT3B0TW9kICsgcnNPcHRKb2luLFxuICAgIHJzU3ltYm9sID0gJyg/OicgKyBbcnNOb25Bc3RyYWwgKyByc0NvbWJvICsgJz8nLCByc0NvbWJvLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyLCByc0FzdHJhbF0uam9pbignfCcpICsgJyknO1xuXG4vKiogVXNlZCB0byBtYXRjaCBbc3RyaW5nIHN5bWJvbHNdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LXVuaWNvZGUpLiAqL1xudmFyIHJlVW5pY29kZSA9IFJlZ0V4cChyc0ZpdHogKyAnKD89JyArIHJzRml0eiArICcpfCcgKyByc1N5bWJvbCArIHJzU2VxLCAnZycpO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB3aXRoIFt6ZXJvLXdpZHRoIGpvaW5lcnMgb3IgY29kZSBwb2ludHMgZnJvbSB0aGUgYXN0cmFsIHBsYW5lc10oaHR0cDovL2Vldi5lZS9ibG9nLzIwMTUvMDkvMTIvZGFyay1jb3JuZXJzLW9mLXVuaWNvZGUvKS4gKi9cbnZhciByZUhhc1VuaWNvZGUgPSBSZWdFeHAoJ1snICsgcnNaV0ogKyByc0FzdHJhbFJhbmdlICArIHJzQ29tYm9NYXJrc1JhbmdlICsgcnNDb21ib1N5bWJvbHNSYW5nZSArIHJzVmFyUmFuZ2UgKyAnXScpO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGFuIEFTQ0lJIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhc2NpaVRvQXJyYXkoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcuc3BsaXQoJycpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnZhbHVlc2AgYW5kIGBfLnZhbHVlc0luYCB3aGljaCBjcmVhdGVzIGFuXG4gKiBhcnJheSBvZiBgb2JqZWN0YCBwcm9wZXJ0eSB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXNcbiAqIG9mIGBwcm9wc2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gYmFzZVZhbHVlcyhvYmplY3QsIHByb3BzKSB7XG4gIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICB9KTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIFVuaWNvZGUgc3ltYm9scy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSBzeW1ib2wgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzVW5pY29kZShzdHJpbmcpIHtcbiAgcmV0dXJuIHJlSGFzVW5pY29kZS50ZXN0KHN0cmluZyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0hvc3RPYmplY3QodmFsdWUpIHtcbiAgLy8gTWFueSBob3N0IG9iamVjdHMgYXJlIGBPYmplY3RgIG9iamVjdHMgdGhhdCBjYW4gY29lcmNlIHRvIHN0cmluZ3NcbiAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy5cbiAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYGl0ZXJhdG9yYCB0byBhbiBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IGl0ZXJhdG9yIFRoZSBpdGVyYXRvciB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGl0ZXJhdG9yVG9BcnJheShpdGVyYXRvcikge1xuICB2YXIgZGF0YSxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIHdoaWxlICghKGRhdGEgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICByZXN1bHQucHVzaChkYXRhLnZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gKi9cbmZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gc3RyaW5nVG9BcnJheShzdHJpbmcpIHtcbiAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgID8gdW5pY29kZVRvQXJyYXkoc3RyaW5nKVxuICAgIDogYXNjaWlUb0FycmF5KHN0cmluZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBVbmljb2RlIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiB1bmljb2RlVG9BcnJheShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGUpIHx8IFtdO1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgaXRlcmF0b3JTeW1ib2wgPSBTeW1ib2wgPyBTeW1ib2wuaXRlcmF0b3IgOiB1bmRlZmluZWQsXG4gICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUZsb29yID0gTWF0aC5mbG9vcixcbiAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KSxcbiAgICBuYXRpdmVSYW5kb20gPSBNYXRoLnJhbmRvbTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKHJvb3QsICdEYXRhVmlldycpLFxuICAgIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgUHJvbWlzZSA9IGdldE5hdGl2ZShyb290LCAnUHJvbWlzZScpLFxuICAgIFNldCA9IGdldE5hdGl2ZShyb290LCAnU2V0JyksXG4gICAgV2Vha01hcCA9IGdldE5hdGl2ZShyb290LCAnV2Vha01hcCcpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xudmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICAvLyBTYWZhcmkgOC4xIG1ha2VzIGBhcmd1bWVudHMuY2FsbGVlYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICAvLyBTYWZhcmkgOSBtYWtlcyBgYXJndW1lbnRzLmxlbmd0aGAgZW51bWVyYWJsZSBpbiBzdHJpY3QgbW9kZS5cbiAgdmFyIHJlc3VsdCA9IChpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpXG4gICAgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpXG4gICAgOiBbXTtcblxuICB2YXIgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aCxcbiAgICAgIHNraXBJbmRleGVzID0gISFsZW5ndGg7XG5cbiAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoa2V5ID09ICdsZW5ndGgnIHx8IGlzSW5kZXgoa2V5LCBsZW5ndGgpKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xhbXBgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuICovXG5mdW5jdGlvbiBiYXNlQ2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgaWYgKG51bWJlciA9PT0gbnVtYmVyKSB7XG4gICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG51bWJlciA9IG51bWJlciA8PSB1cHBlciA/IG51bWJlciA6IHVwcGVyO1xuICAgIH1cbiAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbnVtYmVyID0gbnVtYmVyID49IGxvd2VyID8gbnVtYmVyIDogbG93ZXI7XG4gICAgfVxuICB9XG4gIHJldHVybiBudW1iZXI7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICByZXR1cm4gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcGF0dGVybiA9IChpc0Z1bmN0aW9uKHZhbHVlKSB8fCBpc0hvc3RPYmplY3QodmFsdWUpKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmRvbWAgd2l0aG91dCBzdXBwb3J0IGZvciByZXR1cm5pbmdcbiAqIGZsb2F0aW5nLXBvaW50IG51bWJlcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3dlciBUaGUgbG93ZXIgYm91bmQuXG4gKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAqL1xuZnVuY3Rpb24gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpIHtcbiAgcmV0dXJuIGxvd2VyICsgbmF0aXZlRmxvb3IobmF0aXZlUmFuZG9tKCkgKiAodXBwZXIgLSBsb3dlciArIDEpKTtcbn1cblxuLyoqXG4gKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICovXG5mdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbnZhciBnZXRUYWcgPSBiYXNlR2V0VGFnO1xuXG4vLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSxcbi8vIGZvciBkYXRhIHZpZXdzIGluIEVkZ2UgPCAxNCwgYW5kIHByb21pc2VzIGluIE5vZGUuanMuXG5pZiAoKERhdGFWaWV3ICYmIGdldFRhZyhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gZGF0YVZpZXdUYWcpIHx8XG4gICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcbiAgICAoU2V0ICYmIGdldFRhZyhuZXcgU2V0KSAhPSBzZXRUYWcpIHx8XG4gICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXN1bHQgPSBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSxcbiAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSAmJlxuICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuICogIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICkge1xuICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogR2V0cyBgbmAgcmFuZG9tIGVsZW1lbnRzIGF0IHVuaXF1ZSBrZXlzIGZyb20gYGNvbGxlY3Rpb25gIHVwIHRvIHRoZVxuICogc2l6ZSBvZiBgY29sbGVjdGlvbmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgMik7XG4gKiAvLyA9PiBbMywgMV1cbiAqXG4gKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCA0KTtcbiAqIC8vID0+IFsyLCAzLCAxXVxuICovXG5mdW5jdGlvbiBzYW1wbGVTaXplKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gdG9BcnJheShjb2xsZWN0aW9uKSxcbiAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGgsXG4gICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgbiA9IDE7XG4gIH0gZWxzZSB7XG4gICAgbiA9IGJhc2VDbGFtcCh0b0ludGVnZXIobiksIDAsIGxlbmd0aCk7XG4gIH1cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgdmFyIHJhbmQgPSBiYXNlUmFuZG9tKGluZGV4LCBsYXN0SW5kZXgpLFxuICAgICAgICB2YWx1ZSA9IHJlc3VsdFtyYW5kXTtcblxuICAgIHJlc3VsdFtyYW5kXSA9IHJlc3VsdFtpbmRleF07XG4gICAgcmVzdWx0W2luZGV4XSA9IHZhbHVlO1xuICB9XG4gIHJlc3VsdC5sZW5ndGggPSBuO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygc2h1ZmZsZWQgdmFsdWVzLCB1c2luZyBhIHZlcnNpb24gb2YgdGhlXG4gKiBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlci1ZYXRlc19zaHVmZmxlKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnNodWZmbGUoWzEsIDIsIDMsIDRdKTtcbiAqIC8vID0+IFs0LCAxLCAzLCAyXVxuICovXG5mdW5jdGlvbiBzaHVmZmxlKGNvbGxlY3Rpb24pIHtcbiAgcmV0dXJuIHNhbXBsZVNpemUoY29sbGVjdGlvbiwgTUFYX0FSUkFZX0xFTkdUSCk7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAvLyBTYWZhcmkgOC4xIG1ha2VzIGBhcmd1bWVudHMuY2FsbGVlYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICghcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpIHx8IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IGFyZ3NUYWcpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICogaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA4LTkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGlzT2JqZWN0KHZhbHVlKSA/IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3RyaW5nYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3RyaW5nLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTdHJpbmcoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTdHJpbmcoMSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgKCFpc0FycmF5KHZhbHVlKSAmJiBpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN0cmluZ1RhZyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvQXJyYXkoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAqIC8vID0+IFsxLCAyXVxuICpcbiAqIF8udG9BcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAqXG4gKiBfLnRvQXJyYXkoMSk7XG4gKiAvLyA9PiBbXVxuICpcbiAqIF8udG9BcnJheShudWxsKTtcbiAqIC8vID0+IFtdXG4gKi9cbmZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoaXNBcnJheUxpa2UodmFsdWUpKSB7XG4gICAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHN0cmluZ1RvQXJyYXkodmFsdWUpIDogY29weUFycmF5KHZhbHVlKTtcbiAgfVxuICBpZiAoaXRlcmF0b3JTeW1ib2wgJiYgdmFsdWVbaXRlcmF0b3JTeW1ib2xdKSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yVG9BcnJheSh2YWx1ZVtpdGVyYXRvclN5bWJvbF0oKSk7XG4gIH1cbiAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICBmdW5jID0gdGFnID09IG1hcFRhZyA/IG1hcFRvQXJyYXkgOiAodGFnID09IHNldFRhZyA/IHNldFRvQXJyYXkgOiB2YWx1ZXMpO1xuXG4gIHJldHVybiBmdW5jKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTIuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvRmluaXRlKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b0Zpbml0ZShJbmZpbml0eSk7XG4gKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICpcbiAqIF8udG9GaW5pdGUoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cbmZ1bmN0aW9uIHRvRmluaXRlKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gIH1cbiAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgIHZhciBzaWduID0gKHZhbHVlIDwgMCA/IC0xIDogMSk7XG4gICAgcmV0dXJuIHNpZ24gKiBNQVhfSU5URUdFUjtcbiAgfVxuICByZXR1cm4gdmFsdWUgPT09IHZhbHVlID8gdmFsdWUgOiAwO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlci5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0ludGVnZXJgXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9pbnRlZ2VyKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvSW50ZWdlcigzLjIpO1xuICogLy8gPT4gM1xuICpcbiAqIF8udG9JbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gMFxuICpcbiAqIF8udG9JbnRlZ2VyKEluZmluaXR5KTtcbiAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gKlxuICogXy50b0ludGVnZXIoJzMuMicpO1xuICogLy8gPT4gM1xuICovXG5mdW5jdGlvbiB0b0ludGVnZXIodmFsdWUpIHtcbiAgdmFyIHJlc3VsdCA9IHRvRmluaXRlKHZhbHVlKSxcbiAgICAgIHJlbWFpbmRlciA9IHJlc3VsdCAlIDE7XG5cbiAgcmV0dXJuIHJlc3VsdCA9PT0gcmVzdWx0ID8gKHJlbWFpbmRlciA/IHJlc3VsdCAtIHJlbWFpbmRlciA6IHJlc3VsdCkgOiAwO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICpcbiAqIF8ua2V5cygnaGknKTtcbiAqIC8vID0+IFsnMCcsICcxJ11cbiAqL1xuZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCkgOiBiYXNlS2V5cyhvYmplY3QpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8udmFsdWVzKG5ldyBGb28pO1xuICogLy8gPT4gWzEsIDJdIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKlxuICogXy52YWx1ZXMoJ2hpJyk7XG4gKiAvLyA9PiBbJ2gnLCAnaSddXG4gKi9cbmZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgcmV0dXJuIG9iamVjdCA/IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzKG9iamVjdCkpIDogW107XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2h1ZmZsZTtcbiIsInZhciBzaWV2ZUFycmF5ID0gcmVxdWlyZSgnc2lldmUtb2YtZXJhdG9zdGhlbmVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG1heCkge1xuICByZXR1cm4gc2lldmVBcnJheShtYXggKyAxKS5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgdmFsdWUpIHtcbiAgICBvYmpbdmFsdWVdID0gdHJ1ZTtcbiAgICByZXR1cm4gb2JqO1xuICB9LCB7fSk7XG59O1xuIiwiKGZ1bmN0aW9uKHJvb3QpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIHNpZXZlT2ZFcmF0aG9zdGhlbmVzKG1heCkge1xuICAgIHZhciBmbGFncyA9IFtdO1xuICAgIHZhciBwcmltZXMgPSBbXTtcbiAgICB2YXIgcHJpbWUgPSAyO1xuXG4gICAgdmFyIG4gPSBtYXg7XG4gICAgd2hpbGUobi0tKSB7XG4gICAgICBmbGFnc1ttYXgtbl0gPSB0cnVlO1xuICAgIH1cblxuICAgIGZvciAocHJpbWUgPSAyOyBwcmltZSA8IE1hdGguc3FydChtYXgpOyBwcmltZSsrKSB7XG4gICAgICBpZiAoZmxhZ3NbcHJpbWVdKSB7XG4gICAgICAgIGZvciAodmFyIGogPSBwcmltZSArIHByaW1lOyBqIDwgbWF4OyBqICs9IHByaW1lKSB7XG4gICAgICAgICAgZmxhZ3Nbal0gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAyOyBpIDwgbWF4OyBpKyspIHtcbiAgICAgIGlmIChmbGFnc1tpXSkge1xuICAgICAgICBwcmltZXMucHVzaChpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcHJpbWVzO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gc2lldmVPZkVyYXRob3N0aGVuZXM7XG4gICAgfVxuICAgIGV4cG9ydHMuc2lldmVPZkVyYXRob3N0aGVuZXMgPSBzaWV2ZU9mRXJhdGhvc3RoZW5lcztcbiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHNpZXZlT2ZFcmF0aG9zdGhlbmVzO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJvb3Quc2lldmVPZkVyYXRob3N0aGVuZXMgPSBzaWV2ZU9mRXJhdGhvc3RoZW5lcztcbiAgfVxuXG59KSh0aGlzKTtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImVudW0gT3BlcmF0b3Ige1xuICBESVZJU0lPTiA9IFwiL1wiLFxuICBNVUxUSVBMSUNBVElPTiA9IFwiKlwiLFxuICBBRERJVElPTiA9IFwiK1wiLFxuICBTVUJUUkFDVElPTiA9IFwiLVwiXG59XG5cbmV4cG9ydCBkZWZhdWx0IE9wZXJhdG9yO1xuIiwiaW1wb3J0IElPcGVyYXRvclRydXRoVGFibGUgZnJvbSBcIi4vdHlwZXMvSU9wZXJhdG9yVHJ1dGhUYWJsZVwiO1xuaW1wb3J0IE9wZXJhdG9yIGZyb20gXCIuL3R5cGVzL09wZXJhdG9yXCI7XG5cbmNvbnN0IHJhbmRvbU9wZXJhdG9yID0gKHZhbGlkT3BlcmF0b3JzPzogSU9wZXJhdG9yVHJ1dGhUYWJsZSk6IE9wZXJhdG9yID0+IHtcbiAgbGV0IG9wZXJhdG9yczogT3BlcmF0b3JbXSA9IFtdO1xuICBpZiAodmFsaWRPcGVyYXRvcnMpIHtcbiAgICBPYmplY3Qua2V5cyh2YWxpZE9wZXJhdG9ycykuZm9yRWFjaChcbiAgICAgIChvcGVyYXRvcjogT3BlcmF0b3IpOiB2b2lkID0+IHtcbiAgICAgICAgaWYgKHZhbGlkT3BlcmF0b3JzW29wZXJhdG9yXSkge1xuICAgICAgICAgIG9wZXJhdG9ycy5wdXNoKG9wZXJhdG9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgb3BlcmF0b3JzID0gW1xuICAgICAgT3BlcmF0b3IuQURESVRJT04sXG4gICAgICBPcGVyYXRvci5TVUJUUkFDVElPTixcbiAgICAgIE9wZXJhdG9yLk1VTFRJUExJQ0FUSU9OLFxuICAgICAgT3BlcmF0b3IuRElWSVNJT05cbiAgICBdO1xuICB9XG5cbiAgaWYgKCFvcGVyYXRvcnMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIE9wZXJhdG9yLkFERElUSU9OO1xuICB9XG5cbiAgcmV0dXJuIG9wZXJhdG9yc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBvcGVyYXRvcnMubGVuZ3RoKV07XG59O1xuXG5leHBvcnQgZGVmYXVsdCByYW5kb21PcGVyYXRvcjtcbiIsImNvbnN0IHJhbmRvbU51bWJlckluUmFuZ2UgPSAobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyID0+XG4gIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XG5cbmV4cG9ydCBkZWZhdWx0IHJhbmRvbU51bWJlckluUmFuZ2U7XG4iLCJpbXBvcnQgcmFuZG9tTnVtYmVySW5SYW5nZSBmcm9tIFwiLi9yYW5kb21OdW1iZXJJblJhbmdlXCI7XG5cbmNvbnN0IHJhbmRvbUFkZGl0aXZlUGFpciA9IChuOiBudW1iZXIpOiBbbnVtYmVyLCBudW1iZXJdID0+IHtcbiAgaWYgKG4gPT09IDApIHtcbiAgICByZXR1cm4gWzAsIDBdO1xuICB9XG5cbiAgaWYgKG4gPiAwKSB7XG4gICAgY29uc3QgcmFuZG9tTnVtYmVyRm9yUG9zaXRpdmVOOiBudW1iZXIgPSByYW5kb21OdW1iZXJJblJhbmdlKDEsIG4gLSAxKTtcbiAgICByZXR1cm4gW3JhbmRvbU51bWJlckZvclBvc2l0aXZlTiwgbiAtIHJhbmRvbU51bWJlckZvclBvc2l0aXZlTl07XG4gIH1cblxuICBjb25zdCByYW5kb21OdW1iZXJGb3JOb25Qb2l0aXZlTjogbnVtYmVyID0gcmFuZG9tTnVtYmVySW5SYW5nZShcbiAgICBuICsgTWF0aC5mbG9vcihuIC8gMiksXG4gICAgLTFcbiAgKTtcblxuICByZXR1cm4gW3JhbmRvbU51bWJlckZvck5vblBvaXRpdmVOLCBuIC0gcmFuZG9tTnVtYmVyRm9yTm9uUG9pdGl2ZU5dO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcmFuZG9tQWRkaXRpdmVQYWlyO1xuIiwiaW1wb3J0ICogYXMgaXNQcmltZSBmcm9tIFwicXVpY2staXMtcHJpbWVcIjtcblxuY29uc3QgZmluZEFsbFBvc2l0aXZlRGl2aXNvcnMgPSAobjogbnVtYmVyKTogbnVtYmVyW10gPT4ge1xuICBjb25zdCBsYXJnZURpdmlzb3JzOiBudW1iZXJbXSA9IFtdO1xuICBjb25zdCBzbWFsbERpdmlzb3JzOiBudW1iZXJbXSA9IFtdO1xuXG4gIGNvbnN0IHNxcnQ6IG51bWJlciA9IE1hdGguc3FydChuKTtcblxuICBmb3IgKGxldCBpID0gMTsgaSA8IHNxcnQgKyAxOyBpKyspIHtcbiAgICBpZiAoaSA9PT0gc21hbGxEaXZpc29yc1tzbWFsbERpdmlzb3JzLmxlbmd0aCAtIDFdKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKG4gJSBpID09PSAwICYmIChuID09PSAxIHx8IGlzUHJpbWUobikgfHwgaSAhPT0gMSkpIHtcbiAgICAgIGxhcmdlRGl2aXNvcnMucHVzaChpKTtcblxuICAgICAgaWYgKG4gLyBpICE9PSBpICYmIChuID09PSAxIHx8IGlzUHJpbWUobikgfHwgbiAhPT0gaSkpIHtcbiAgICAgICAgc21hbGxEaXZpc29ycy5wdXNoKG4gLyBpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbGFyZ2VEaXZpc29ycy5jb25jYXQoc21hbGxEaXZpc29ycyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmaW5kQWxsUG9zaXRpdmVEaXZpc29ycztcbiIsImltcG9ydCBmaW5kQWxsUG9zaXRpdmVEaXZpc29ycyBmcm9tIFwiLi9maW5kQWxsUG9zaXRpdmVEaXZpc29yc1wiO1xuaW1wb3J0IHJhbmRvbU51bWJlckluUmFuZ2UgZnJvbSBcIi4vcmFuZG9tTnVtYmVySW5SYW5nZVwiO1xuXG5jb25zdCByYW5kb21EaXZpc29yUGFpciA9IChuOiBudW1iZXIpOiBbbnVtYmVyLCBudW1iZXJdID0+IHtcbiAgaWYgKG4gPT09IDApIHtcbiAgICByZXR1cm4gWzAsIDBdO1xuICB9XG5cbiAgaWYgKG4gPiAwKSB7XG4gICAgY29uc3QgZGl2aXNvcnNGb3JQb3NpdGl2ZU46IG51bWJlcltdID0gZmluZEFsbFBvc2l0aXZlRGl2aXNvcnMobik7XG5cbiAgICBpZiAoIWRpdmlzb3JzRm9yUG9zaXRpdmVOLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFswLCAwXTtcbiAgICB9XG5cbiAgICBjb25zdCByYW5kb21EaXZpc29yRm9yUG9zaXRpdmVOOiBudW1iZXIgPVxuICAgICAgZGl2aXNvcnNGb3JQb3NpdGl2ZU5bXG4gICAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGRpdmlzb3JzRm9yUG9zaXRpdmVOLmxlbmd0aClcbiAgICAgIF07XG5cbiAgICByZXR1cm4gW3JhbmRvbURpdmlzb3JGb3JQb3NpdGl2ZU4sIG4gLyByYW5kb21EaXZpc29yRm9yUG9zaXRpdmVOXTtcbiAgfVxuXG4gIGNvbnN0IGRpdmlzb3JzRm9yTm9uUG9zaXRpdmVOOiBudW1iZXJbXSA9IGZpbmRBbGxQb3NpdGl2ZURpdmlzb3JzKC1uKTtcblxuICBpZiAoIWRpdmlzb3JzRm9yTm9uUG9zaXRpdmVOLmxlbmd0aCkge1xuICAgIHJldHVybiBbMCwgMF07XG4gIH1cblxuICBjb25zdCByYW5kb21EaXZpc29yRm9yTm9uUG9zaXRpdmVOOiBudW1iZXIgPVxuICAgIGRpdmlzb3JzRm9yTm9uUG9zaXRpdmVOW1xuICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZGl2aXNvcnNGb3JOb25Qb3NpdGl2ZU4ubGVuZ3RoKVxuICAgIF0gKiAocmFuZG9tTnVtYmVySW5SYW5nZSgxLCAyKSA9PT0gMSA/IDEgOiAtMSk7XG5cbiAgcmV0dXJuIFtyYW5kb21EaXZpc29yRm9yTm9uUG9zaXRpdmVOLCBuIC8gcmFuZG9tRGl2aXNvckZvck5vblBvc2l0aXZlTl07XG59O1xuXG5leHBvcnQgZGVmYXVsdCByYW5kb21EaXZpc29yUGFpcjtcbiIsImltcG9ydCByYW5kb21OdW1iZXJJblJhbmdlIGZyb20gXCIuL3JhbmRvbU51bWJlckluUmFuZ2VcIjtcblxuY29uc3QgcmFuZG9tTXVsdGlwbGVQYWlyID0gKG46IG51bWJlcik6IFtudW1iZXIsIG51bWJlcl0gPT4ge1xuICBpZiAobiA9PT0gMCkge1xuICAgIHJldHVybiBbMCwgMF07XG4gIH1cblxuICBpZiAobiA+IDApIHtcbiAgICBjb25zdCBtYXhNdWx0aXBsZUZvclBvc2l0aXZlTjogbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnNxcnQobikpO1xuICAgIGNvbnN0IHJhbmRvbU11bHRpcGxlRm9yUG9zaXRpdmVOOiBudW1iZXIgPSByYW5kb21OdW1iZXJJblJhbmdlKFxuICAgICAgMixcbiAgICAgIG1heE11bHRpcGxlRm9yUG9zaXRpdmVOXG4gICAgKTtcblxuICAgIGNvbnN0IHNlY29uZE11bHRpcGxlRm9yUG9zaXRpdmVOOiBudW1iZXIgPSBuICogcmFuZG9tTXVsdGlwbGVGb3JQb3NpdGl2ZU47XG5cbiAgICByZXR1cm4gcmFuZG9tTXVsdGlwbGVGb3JQb3NpdGl2ZU4gLyBzZWNvbmRNdWx0aXBsZUZvclBvc2l0aXZlTiA9PT0gblxuICAgICAgPyBbcmFuZG9tTXVsdGlwbGVGb3JQb3NpdGl2ZU4sIHNlY29uZE11bHRpcGxlRm9yUG9zaXRpdmVOXVxuICAgICAgOiBbc2Vjb25kTXVsdGlwbGVGb3JQb3NpdGl2ZU4sIHJhbmRvbU11bHRpcGxlRm9yUG9zaXRpdmVOXTtcbiAgfVxuXG4gIGNvbnN0IG1heE11bHRpcGxlRm9yTm9uUG9zaXRpdmVOOiBudW1iZXIgPSBNYXRoLmZsb29yKE1hdGguc3FydCgtbikpO1xuICBjb25zdCByYW5kb21NdWx0aXBsZUZvck5vblBvc2l0aXZlTjogbnVtYmVyID1cbiAgICByYW5kb21OdW1iZXJJblJhbmdlKDIsIG1heE11bHRpcGxlRm9yTm9uUG9zaXRpdmVOKSAqXG4gICAgKHJhbmRvbU51bWJlckluUmFuZ2UoMSwgMikgPT09IDEgPyAtMSA6IDEpO1xuXG4gIGNvbnN0IHNlY29uZE11bHRpcGxlRm9yTm9uUG9zaXRpdmVOOiBudW1iZXIgPVxuICAgIG4gKiByYW5kb21NdWx0aXBsZUZvck5vblBvc2l0aXZlTjtcblxuICByZXR1cm4gcmFuZG9tTXVsdGlwbGVGb3JOb25Qb3NpdGl2ZU4gLyBzZWNvbmRNdWx0aXBsZUZvck5vblBvc2l0aXZlTiA9PT0gblxuICAgID8gW3JhbmRvbU11bHRpcGxlRm9yTm9uUG9zaXRpdmVOLCBzZWNvbmRNdWx0aXBsZUZvck5vblBvc2l0aXZlTl1cbiAgICA6IFtzZWNvbmRNdWx0aXBsZUZvck5vblBvc2l0aXZlTiwgcmFuZG9tTXVsdGlwbGVGb3JOb25Qb3NpdGl2ZU5dO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcmFuZG9tTXVsdGlwbGVQYWlyO1xuIiwiaW1wb3J0IHJhbmRvbU51bWJlckluUmFuZ2UgZnJvbSBcIi4vcmFuZG9tTnVtYmVySW5SYW5nZVwiO1xuXG5jb25zdCByYW5kb21TdWJ0cmFjdGl2ZVBhaXIgPSAobjogbnVtYmVyKTogW251bWJlciwgbnVtYmVyXSA9PiB7XG4gIGlmIChuID09PSAwKSB7XG4gICAgcmV0dXJuIFswLCAwXTtcbiAgfVxuXG4gIGlmIChuID4gMCkge1xuICAgIGNvbnN0IHJhbmRvbVN1YnRyYWN0aXZlTnVtYmVyRm9yUG9zaXRpdmVOOiBudW1iZXIgPSByYW5kb21OdW1iZXJJblJhbmdlKFxuICAgICAgMSxcbiAgICAgIE1hdGguZmxvb3IoTWF0aC5zcXJ0KG4pKVxuICAgICk7XG5cbiAgICBjb25zdCBzZWNvbmRTdWJ0cmFjdGl2ZU51bWJlckZvclBvc2l0aXZlTjogbnVtYmVyID1cbiAgICAgIHJhbmRvbVN1YnRyYWN0aXZlTnVtYmVyRm9yUG9zaXRpdmVOICsgbjtcblxuICAgIHJldHVybiByYW5kb21TdWJ0cmFjdGl2ZU51bWJlckZvclBvc2l0aXZlTiAtXG4gICAgICBzZWNvbmRTdWJ0cmFjdGl2ZU51bWJlckZvclBvc2l0aXZlTiA9PT1cbiAgICAgIG5cbiAgICAgID8gW1xuICAgICAgICAgIHJhbmRvbVN1YnRyYWN0aXZlTnVtYmVyRm9yUG9zaXRpdmVOLFxuICAgICAgICAgIHNlY29uZFN1YnRyYWN0aXZlTnVtYmVyRm9yUG9zaXRpdmVOXG4gICAgICAgIF1cbiAgICAgIDogW1xuICAgICAgICAgIHNlY29uZFN1YnRyYWN0aXZlTnVtYmVyRm9yUG9zaXRpdmVOLFxuICAgICAgICAgIHJhbmRvbVN1YnRyYWN0aXZlTnVtYmVyRm9yUG9zaXRpdmVOXG4gICAgICAgIF07XG4gIH1cblxuICBjb25zdCByYW5kb21TdWJ0cmFjdGl2ZU51bWJlckZvck5vblBvc2l0aXZlTjogbnVtYmVyID0gcmFuZG9tTnVtYmVySW5SYW5nZShcbiAgICBuLFxuICAgIC1uXG4gICk7XG5cbiAgY29uc3Qgc2Vjb25kU3VidHJhY3RpdmVOdW1iZXJGb3JOb25Qb3NpdGl2ZU46IG51bWJlciA9XG4gICAgcmFuZG9tU3VidHJhY3RpdmVOdW1iZXJGb3JOb25Qb3NpdGl2ZU4gKyBuO1xuXG4gIHJldHVybiByYW5kb21TdWJ0cmFjdGl2ZU51bWJlckZvck5vblBvc2l0aXZlTiAtXG4gICAgc2Vjb25kU3VidHJhY3RpdmVOdW1iZXJGb3JOb25Qb3NpdGl2ZU4gPT09XG4gICAgblxuICAgID8gW1xuICAgICAgICByYW5kb21TdWJ0cmFjdGl2ZU51bWJlckZvck5vblBvc2l0aXZlTixcbiAgICAgICAgc2Vjb25kU3VidHJhY3RpdmVOdW1iZXJGb3JOb25Qb3NpdGl2ZU5cbiAgICAgIF1cbiAgICA6IFtcbiAgICAgICAgc2Vjb25kU3VidHJhY3RpdmVOdW1iZXJGb3JOb25Qb3NpdGl2ZU4sXG4gICAgICAgIHJhbmRvbVN1YnRyYWN0aXZlTnVtYmVyRm9yTm9uUG9zaXRpdmVOXG4gICAgICBdO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcmFuZG9tU3VidHJhY3RpdmVQYWlyO1xuIiwiaW1wb3J0IE9wZXJhdG9yIGZyb20gXCIuL3R5cGVzL09wZXJhdG9yXCI7XG5cbmltcG9ydCByYW5kb21BZGRpdGl2ZVBhaXIgZnJvbSBcIi4vcmFuZG9tQWRkaXRpdmVQYWlyXCI7XG5pbXBvcnQgcmFuZG9tRGl2aXNvclBhaXIgZnJvbSBcIi4vcmFuZG9tRGl2aXNvclBhaXJcIjtcbmltcG9ydCByYW5kb21NdWx0aXBsZVBhaXIgZnJvbSBcIi4vcmFuZG9tTXVsdGlwbGVQYWlyXCI7XG5pbXBvcnQgcmFuZG9tU3VidHJhY3RpdmVQYWlyIGZyb20gXCIuL3JhbmRvbVN1YnRyYWN0aXZlUGFpclwiO1xuXG5jb25zdCByYW5kb21QYWlyRm9yTnVtYmVyQW5kT3BlcmF0b3IgPSAoXG4gIG46IG51bWJlcixcbiAgb3BlcmF0b3I6IE9wZXJhdG9yXG4pOiBbbnVtYmVyLCBudW1iZXJdID0+IHtcbiAgcmV0dXJuIG9wZXJhdG9yID09PSBPcGVyYXRvci5BRERJVElPTlxuICAgID8gcmFuZG9tQWRkaXRpdmVQYWlyKG4pXG4gICAgOiBvcGVyYXRvciA9PT0gT3BlcmF0b3IuU1VCVFJBQ1RJT05cbiAgICA/IHJhbmRvbVN1YnRyYWN0aXZlUGFpcihuKVxuICAgIDogb3BlcmF0b3IgPT09IE9wZXJhdG9yLk1VTFRJUExJQ0FUSU9OXG4gICAgPyByYW5kb21EaXZpc29yUGFpcihuKVxuICAgIDogcmFuZG9tTXVsdGlwbGVQYWlyKG4pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcmFuZG9tUGFpckZvck51bWJlckFuZE9wZXJhdG9yO1xuIiwiaW1wb3J0IElPcGVyYXRvclRydXRoVGFibGUgZnJvbSBcIi4vdHlwZXMvSU9wZXJhdG9yVHJ1dGhUYWJsZVwiO1xuaW1wb3J0IE9wZXJhdG9yIGZyb20gXCIuL3R5cGVzL09wZXJhdG9yXCI7XG5pbXBvcnQgUGFpckV4cHJlc3Npb24gZnJvbSBcIi4vdHlwZXMvUGFpckV4cHJlc3Npb25cIjtcblxuaW1wb3J0IHJhbmRvbU9wZXJhdG9yIGZyb20gXCIuL3JhbmRvbU9wZXJhdG9yXCI7XG5pbXBvcnQgcmFuZG9tUGFpckZvck51bWJlckFuZE9wZXJhdG9yIGZyb20gXCIuL3JhbmRvbVBhaXJGb3JOdW1iZXJBbmRPcGVyYXRvclwiO1xuXG5jb25zdCBnZW5lcmF0ZVBhaXJFeHByZXNzaW9uID0gKFxuICBuOiBudW1iZXIsXG4gIHZhbGlkT3BlcmF0b3JzOiBJT3BlcmF0b3JUcnV0aFRhYmxlXG4pOiBQYWlyRXhwcmVzc2lvbiA9PiB7XG4gIGNvbnN0IG9wZXJhdG9yOiBPcGVyYXRvciA9IHJhbmRvbU9wZXJhdG9yKHZhbGlkT3BlcmF0b3JzKTtcbiAgY29uc3QgbnVtYmVyczogW251bWJlciwgbnVtYmVyXSA9IHJhbmRvbVBhaXJGb3JOdW1iZXJBbmRPcGVyYXRvcihuLCBvcGVyYXRvcik7XG5cbiAgcmV0dXJuIFtudW1iZXJzWzBdLCBvcGVyYXRvciwgbnVtYmVyc1sxXV07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBnZW5lcmF0ZVBhaXJFeHByZXNzaW9uO1xuIiwiaW1wb3J0ICogYXMgaXNQcmltZSBmcm9tIFwicXVpY2staXMtcHJpbWVcIjtcblxuaW1wb3J0IElPcGVyYXRvclRydXRoVGFibGUgZnJvbSBcIi4vdHlwZXMvSU9wZXJhdG9yVHJ1dGhUYWJsZVwiO1xuaW1wb3J0IE9wZXJhdG9yIGZyb20gXCIuL3R5cGVzL09wZXJhdG9yXCI7XG5cbmNvbnN0IGdldFZhbGlkT3BlcmF0b3JzID0gKFxuICBuOiBudW1iZXIsXG4gIG9uTGVmdD86IGJvb2xlYW4sXG4gIGxlZnRPcGVyYXRvcj86IE9wZXJhdG9yLFxuICByaWdodE9wZXJhdG9yPzogT3BlcmF0b3Jcbik6IElPcGVyYXRvclRydXRoVGFibGUgPT4gKHtcbiAgW09wZXJhdG9yLkRJVklTSU9OXTpcbiAgICBuICE9PSAxICYmXG4gICAgbiAhPT0gLTEgJiZcbiAgICAoKCFsZWZ0T3BlcmF0b3IgJiYgIXJpZ2h0T3BlcmF0b3IpIHx8XG4gICAgICAobGVmdE9wZXJhdG9yICE9PSBPcGVyYXRvci5ESVZJU0lPTiAmJiAob25MZWZ0ICYmICFyaWdodE9wZXJhdG9yKSkgfHxcbiAgICAgICghbGVmdE9wZXJhdG9yICYmICFyaWdodE9wZXJhdG9yKSksXG4gIFtPcGVyYXRvci5NVUxUSVBMSUNBVElPTl06XG4gICAgbiAhPT0gMSAmJlxuICAgIG4gIT09IC0xICYmXG4gICAgKGxlZnRPcGVyYXRvciAhPT0gT3BlcmF0b3IuRElWSVNJT04gJiZcbiAgICAgICghIWxlZnRPcGVyYXRvciB8fFxuICAgICAgICAhIXJpZ2h0T3BlcmF0b3IgfHxcbiAgICAgICAgKCFpc1ByaW1lKG4pICYmIG4gIT09IDEgJiYgbiAhPT0gLTEpKSksXG4gIFtPcGVyYXRvci5BRERJVElPTl06XG4gICAgbiAhPT0gMSAmJlxuICAgIG4gIT09IC0xICYmXG4gICAgKCghbGVmdE9wZXJhdG9yICYmICFyaWdodE9wZXJhdG9yKSB8fFxuICAgICAgKGxlZnRPcGVyYXRvciAhPT0gT3BlcmF0b3IuRElWSVNJT04gJiZcbiAgICAgICAgbGVmdE9wZXJhdG9yICE9PSBPcGVyYXRvci5TVUJUUkFDVElPTiAmJlxuICAgICAgICBsZWZ0T3BlcmF0b3IgIT09IE9wZXJhdG9yLk1VTFRJUExJQ0FUSU9OICYmXG4gICAgICAgIHJpZ2h0T3BlcmF0b3IgIT09IE9wZXJhdG9yLkRJVklTSU9OICYmXG4gICAgICAgIHJpZ2h0T3BlcmF0b3IgIT09IE9wZXJhdG9yLk1VTFRJUExJQ0FUSU9OKSksXG4gIFtPcGVyYXRvci5TVUJUUkFDVElPTl06XG4gICAgKCFsZWZ0T3BlcmF0b3IgJiYgIXJpZ2h0T3BlcmF0b3IpIHx8XG4gICAgKGxlZnRPcGVyYXRvciAhPT0gT3BlcmF0b3IuRElWSVNJT04gJiZcbiAgICAgIGxlZnRPcGVyYXRvciAhPT0gT3BlcmF0b3IuTVVMVElQTElDQVRJT04gJiZcbiAgICAgIHJpZ2h0T3BlcmF0b3IgIT09IE9wZXJhdG9yLkRJVklTSU9OICYmXG4gICAgICByaWdodE9wZXJhdG9yICE9PSBPcGVyYXRvci5NVUxUSVBMSUNBVElPTiAmJlxuICAgICAgbGVmdE9wZXJhdG9yICE9PSBPcGVyYXRvci5TVUJUUkFDVElPTilcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBnZXRWYWxpZE9wZXJhdG9ycztcbiIsImltcG9ydCBFeHByZXNzaW9uIGZyb20gXCIuL3R5cGVzL0V4cHJlc3Npb25cIjtcbmltcG9ydCBJT3BlcmF0b3JUcnV0aFRhYmxlIGZyb20gXCIuL3R5cGVzL0lPcGVyYXRvclRydXRoVGFibGVcIjtcbmltcG9ydCBPcGVyYXRvciBmcm9tIFwiLi90eXBlcy9PcGVyYXRvclwiO1xuaW1wb3J0IFBhaXJFeHByZXNzaW9uIGZyb20gXCIuL3R5cGVzL1BhaXJFeHByZXNzaW9uXCI7XG5cbmltcG9ydCBnZW5lcmF0ZVBhaXJFeHByZXNzaW9uIGZyb20gXCIuL2dlbmVyYXRlUGFpckV4cHJlc3Npb25cIjtcbmltcG9ydCBnZXRWYWxpZE9wZXJhdG9ycyBmcm9tIFwiLi9nZXRWYWxpZE9wZXJhdG9yc1wiO1xuaW1wb3J0IHJhbmRvbU51bWJlckluUmFuZ2UgZnJvbSBcIi4vcmFuZG9tTnVtYmVySW5SYW5nZVwiO1xuXG5jb25zdCBnZW5lcmF0ZUV4cHJlc3Npb24gPSAoXG4gIG46IG51bWJlcixcbiAgbGVuZ3RoOiBudW1iZXIsXG4gIGxlZnRPcGVyYXRvcj86IE9wZXJhdG9yLFxuICByaWdodE9wZXJhdG9yPzogT3BlcmF0b3IsXG4gIG9uTGVmdD86IGJvb2xlYW5cbik6IEV4cHJlc3Npb24gPT4ge1xuICBjb25zdCB2YWxpZE9wZXJhdG9yczogSU9wZXJhdG9yVHJ1dGhUYWJsZSA9IGdldFZhbGlkT3BlcmF0b3JzKFxuICAgIG4sXG4gICAgb25MZWZ0LFxuICAgIGxlZnRPcGVyYXRvcixcbiAgICByaWdodE9wZXJhdG9yXG4gICk7XG5cbiAgY29uc3QgcGFpckV4cHJlc3Npb246IFBhaXJFeHByZXNzaW9uID0gZ2VuZXJhdGVQYWlyRXhwcmVzc2lvbihcbiAgICBuLFxuICAgIHZhbGlkT3BlcmF0b3JzXG4gICk7XG5cbiAgY29uc3QgZmluYWxFeHByZXNzaW9uID0gWy4uLnBhaXJFeHByZXNzaW9uXTtcblxuICBpZiAobGVuZ3RoID4gMikge1xuICAgIGNvbnN0IHplcm9Pck9uZTogbnVtYmVyID1cbiAgICAgIHBhaXJFeHByZXNzaW9uWzFdID09PSBPcGVyYXRvci5ESVZJU0lPTiB8fFxuICAgICAgcGFpckV4cHJlc3Npb25bMV0gPT09IE9wZXJhdG9yLlNVQlRSQUNUSU9OIHx8XG4gICAgICByaWdodE9wZXJhdG9yID09PSBPcGVyYXRvci5ESVZJU0lPTlxuICAgICAgICA/IDBcbiAgICAgICAgOiByYW5kb21OdW1iZXJJblJhbmdlKDAsIDEpO1xuICAgIGNvbnN0IGxlZnQ6IGJvb2xlYW4gPSB6ZXJvT3JPbmUgPT09IDA7XG5cbiAgICBjb25zdCBhZGRpdGlvbmFsRXhwcmVzc2lvbiA9IGdlbmVyYXRlRXhwcmVzc2lvbihcbiAgICAgIHBhaXJFeHByZXNzaW9uW2xlZnQgPyAwIDogMl0sXG4gICAgICAtLWxlbmd0aCxcbiAgICAgIGxlZnQgPyBsZWZ0T3BlcmF0b3IgOiBwYWlyRXhwcmVzc2lvblsxXSxcbiAgICAgIGxlZnQgPyBwYWlyRXhwcmVzc2lvblsxXSA6IHJpZ2h0T3BlcmF0b3IsXG4gICAgICBsZWZ0XG4gICAgKTtcblxuICAgIGlmIChsZWZ0KSB7XG4gICAgICByZXR1cm4gYWRkaXRpb25hbEV4cHJlc3Npb24uY29uY2F0KGZpbmFsRXhwcmVzc2lvbi5zbGljZSgxKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaW5hbEV4cHJlc3Npb25cbiAgICAgICAgLnNsaWNlKDAsIGZpbmFsRXhwcmVzc2lvbi5sZW5ndGggLSAxKVxuICAgICAgICAuY29uY2F0KGFkZGl0aW9uYWxFeHByZXNzaW9uKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmluYWxFeHByZXNzaW9uO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2VuZXJhdGVFeHByZXNzaW9uO1xuIiwiaW1wb3J0IEV4cHJlc3Npb24gZnJvbSBcIi4vdHlwZXMvRXhwcmVzc2lvblwiO1xuXG5pbXBvcnQgZ2VuZXJhdGVFeHByZXNzaW9uSW50ZXJuYWwgZnJvbSBcIi4vZ2VuZXJhdGVFeHByZXNzaW9uSW50ZXJuYWxcIjtcblxuY29uc3QgZ2VuZXJhdGVFeHByZXNzaW9uID0gKHtcbiAgbGVuZ3RoLFxuICB0YXJnZXRcbn06IHtcbiAgbGVuZ3RoOiBudW1iZXI7XG4gIHRhcmdldDogbnVtYmVyO1xufSk6IEV4cHJlc3Npb24gPT4ge1xuICByZXR1cm4gZ2VuZXJhdGVFeHByZXNzaW9uSW50ZXJuYWwodGFyZ2V0LCBsZW5ndGgpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2VuZXJhdGVFeHByZXNzaW9uO1xuIiwiY29uc3QgcmFuZG9uR2F1c3NpYW5OdW1iZXJJblJhbmdlID0gKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikgPT4ge1xuICBsZXQgdTogbnVtYmVyID0gMDtcbiAgbGV0IHY6IG51bWJlciA9IDA7XG5cbiAgLy8gQ29udmVydGluZyBbMCwxKSB0byAoMCwxKVxuICB3aGlsZSAodSA9PT0gMCkge1xuICAgIHUgPSBNYXRoLnJhbmRvbSgpO1xuICB9XG4gIHdoaWxlICh2ID09PSAwKSB7XG4gICAgdiA9IE1hdGgucmFuZG9tKCk7XG4gIH1cblxuICBsZXQgbnVtID0gTWF0aC5zcXJ0KC0yLjAgKiBNYXRoLmxvZyh1KSkgKiBNYXRoLmNvcygyLjAgKiBNYXRoLlBJICogdik7XG5cbiAgbnVtID0gbnVtIC8gMTAuMCArIDAuNTsgLy8gVHJhbnNsYXRlIHRvIDAgLT4gMVxuXG4gIC8vIHJlc2FtcGxlIGJldHdlZW4gMCBhbmQgMSBpZiBvdXQgb2YgcmFuZ2VcbiAgaWYgKG51bSA+IDEgfHwgbnVtIDwgMCkge1xuICAgIG51bSA9IHJhbmRvbkdhdXNzaWFuTnVtYmVySW5SYW5nZShtaW4sIG1heCk7XG4gIH1cbiAgbnVtICo9IG1heCAtIG1pbjsgLy8gU3RyZXRjaCB0byBmaWxsIHJhbmdlXG4gIG51bSArPSBtaW47IC8vIG9mZnNldCB0byBtaW5cblxuICByZXR1cm4gTWF0aC5yb3VuZChudW0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcmFuZG9uR2F1c3NpYW5OdW1iZXJJblJhbmdlO1xuIiwiaW1wb3J0ICogYXMgc2h1ZmZsZSBmcm9tIFwibG9kYXNoLnNodWZmbGVcIjtcbmltcG9ydCBnZXRWYWxpZE9wZXJhdG9ycyBmcm9tIFwiLi9nZXRWYWxpZE9wZXJhdG9yc1wiO1xuaW1wb3J0IHJhbmRvbUdhdXNzaWFuTnVtYmVySW5SYW5nZSBmcm9tIFwiLi9yYW5kb21HYXVzc2lhbk51bWJlckluUmFuZ2VcIjtcbmltcG9ydCByYW5kb21PcGVyYXRvciBmcm9tIFwiLi9yYW5kb21PcGVyYXRvclwiO1xuaW1wb3J0IHJhbmRvbVBhaXJGb3JOdW1iZXJBbmRPcGVyYXRvciBmcm9tIFwiLi9yYW5kb21QYWlyRm9yTnVtYmVyQW5kT3BlcmF0b3JcIjtcbmltcG9ydCBFeHByZXNzaW9uIGZyb20gXCIuL3R5cGVzL0V4cHJlc3Npb25cIjtcblxuY29uc3QgZ2VuZXJhdGVCYWcgPSAodGFyZ2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyKTogRXhwcmVzc2lvbiA9PiB7XG4gIGxldCBleHByZXNzaW9uOiBFeHByZXNzaW9uID0gW3RhcmdldF07XG5cbiAgd2hpbGUgKGV4cHJlc3Npb24ubGVuZ3RoIDwgbGVuZ3RoICogMiAtIDEpIHtcbiAgICBjb25zdCBudW1iZXJJbmRleFRvU3BsaXQgPSByYW5kb21HYXVzc2lhbk51bWJlckluUmFuZ2UoXG4gICAgICAwLFxuICAgICAgKGV4cHJlc3Npb24ubGVuZ3RoICsgMSkgLyAyIC0gMVxuICAgICk7XG4gICAgY29uc3QgaW5kZXhUb1NwbGl0ID0gbnVtYmVySW5kZXhUb1NwbGl0ICogMjtcbiAgICBjb25zdCBudW1iZXJUb1NwbGl0ID0gZXhwcmVzc2lvbltpbmRleFRvU3BsaXRdIGFzIG51bWJlcjtcbiAgICBjb25zdCBvcGVyYXRvciA9IHJhbmRvbU9wZXJhdG9yKGdldFZhbGlkT3BlcmF0b3JzKG51bWJlclRvU3BsaXQpKTtcblxuICAgIGNvbnN0IFtmaXJzdE51bWJlciwgc2Vjb25kTnVtYmVyXSA9IHJhbmRvbVBhaXJGb3JOdW1iZXJBbmRPcGVyYXRvcihcbiAgICAgIG51bWJlclRvU3BsaXQsXG4gICAgICBvcGVyYXRvclxuICAgICk7XG5cbiAgICBleHByZXNzaW9uID0gW1xuICAgICAgLi4uZXhwcmVzc2lvbi5zbGljZSgwLCBpbmRleFRvU3BsaXQpLFxuICAgICAgZmlyc3ROdW1iZXIsXG4gICAgICBvcGVyYXRvcixcbiAgICAgIHNlY29uZE51bWJlcixcbiAgICAgIC4uLmV4cHJlc3Npb24uc2xpY2UoaW5kZXhUb1NwbGl0ICsgMSlcbiAgICBdO1xuICB9XG5cbiAgcmV0dXJuIHNodWZmbGUoZXhwcmVzc2lvbik7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBnZW5lcmF0ZUJhZztcbiIsImltcG9ydCBfZ2VuZXJhdGVFeHByZXNzaW9uIGZyb20gXCIuL2dlbmVyYXRlRXhwcmVzc2lvblwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBnZW5lcmF0ZUJhZyB9IGZyb20gXCIuL2dlbmVyYXRlQmFnXCI7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUV4cHJlc3Npb24gPSBfZ2VuZXJhdGVFeHByZXNzaW9uO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==